(window.presentationUtil_bundle_jsonpfunction=window.presentationUtil_bundle_jsonpfunction||[]).push([[1,6],{71:function(e,a,t){"use strict";t.r(a),t.d(a,"DashboardPicker",(function(){return r}));var s=t(1),n=t(11),o=t(5),i=t(10),d=t(0);function r(e){const[a,t]=Object(s.useState)([]),[r,l]=Object(s.useState)(!0),[b,c]=Object(s.useState)(null),[u,h]=Object(s.useState)(""),{isDisabled:p,onChange:g}=e,{dashboards:j}=i.b.getHooks(),{findDashboardsByTitle:x}=j.useService();return Object(s.useEffect)((()=>{let a=!1;return(async()=>{l(!0),t([]);const s=await x(u?`${u}*`:"");a||(s&&t(s.filter((a=>!e.idsToOmit||!e.idsToOmit.includes(a.id))).map((e=>({value:e.id,label:e.attributes.title,"data-test-subj":`dashboard-picker-option-${e.attributes.title.replaceAll(" ","-")}`})))),l(!1))})(),()=>{a=!0}}),[x,u,e.idsToOmit]),Object(d.jsx)(o.EuiComboBox,{"data-test-subj":"dashboardPickerInput",placeholder:n.i18n.translate("presentationUtil.dashboardPicker.searchDashboardPlaceholder",{defaultMessage:"Search dashboards..."}),singleSelection:{asPlainText:!0},options:a||[],selectedOptions:b?[b]:void 0,onChange:e=>{e.length?(c({value:e[0].value||"",label:e[0].label}),g({name:e[0].label,id:e[0].value||""})):(c(null),g(null))},onSearchChange:h,isDisabled:p,isLoading:r,compressed:!0})}a.default=r},72:function(e,a,t){switch(window.__kbnThemeTag__){case"v7dark":return t(74);case"v7light":return t(76);case"v8dark":return t(78);case"v8light":return t(80)}},74:function(e,a,t){var s=t(3),n=t(75);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};s(n,o);e.exports=n.locals||{}},75:function(e,a,t){(a=t(4)(!1)).push([e.i,".savAddDashboard__searchDashboards{margin-left:24px;margin-top:4px;width:300px}",""]),e.exports=a},76:function(e,a,t){var s=t(3),n=t(77);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};s(n,o);e.exports=n.locals||{}},77:function(e,a,t){(a=t(4)(!1)).push([e.i,".savAddDashboard__searchDashboards{margin-left:24px;margin-top:4px;width:300px}",""]),e.exports=a},78:function(e,a,t){var s=t(3),n=t(79);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};s(n,o);e.exports=n.locals||{}},79:function(e,a,t){(a=t(4)(!1)).push([e.i,".savAddDashboard__searchDashboards{margin-left:24px;margin-top:4px;width:300px}",""]),e.exports=a},80:function(e,a,t){var s=t(3),n=t(81);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};s(n,o);e.exports=n.locals||{}},81:function(e,a,t){(a=t(4)(!1)).push([e.i,".savAddDashboard__searchDashboards{margin-left:24px;margin-top:4px;width:300px}",""]),e.exports=a},85:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),o=t(11),i=t(61),d=t(10),r=t(59),l=t(5),b=t(71),c=(t(72),t(0));function u(e){const{documentId:a,onSelectDashboard:t,canSaveByReference:s,setAddToLibrary:i,isAddToLibrarySelected:d,dashboardOption:u,onChange:h,copyOnSave:p}=e,g=!p&&!!a;return Object(c.jsx)(n.a.Fragment,null,Object(c.jsx)(l.EuiFormRow,{label:Object(c.jsx)(r.FormattedMessage,{id:"presentationUtil.saveModalDashboard.addToDashboardLabel",defaultMessage:"Add to dashboard"}),hasChildLabel:!1},Object(c.jsx)(n.a.Fragment,null,Object(c.jsx)(l.EuiPanel,{color:"subdued",hasShadow:!1,"data-test-subj":"add-to-dashboard-options"},Object(c.jsx)("div",null,Object(c.jsx)(n.a.Fragment,null,Object(c.jsx)(l.EuiRadio,{checked:"existing"===u,id:"existing-dashboard-option",name:"dashboard-option",label:o.i18n.translate("presentationUtil.saveModalDashboard.existingDashboardOptionLabel",{defaultMessage:"Existing"}),onChange:()=>h("existing"),disabled:g}),Object(c.jsx)("div",{className:"savAddDashboard__searchDashboards"},Object(c.jsx)(b.default,{isDisabled:"existing"!==u,onChange:t})),Object(c.jsx)(l.EuiSpacer,{size:"s"})),Object(c.jsx)(n.a.Fragment,null,Object(c.jsx)(l.EuiRadio,{checked:"new"===u,id:"new-dashboard-option",name:"dashboard-option",label:o.i18n.translate("presentationUtil.saveModalDashboard.newDashboardOptionLabel",{defaultMessage:"New"}),onChange:()=>h("new"),disabled:g}),Object(c.jsx)(l.EuiSpacer,{size:"s"})),Object(c.jsx)(l.EuiRadio,{checked:null===u,id:"add-to-library-option",name:"dashboard-option",label:o.i18n.translate("presentationUtil.saveModalDashboard.noDashboardOptionLabel",{defaultMessage:"None"}),onChange:()=>{i(!0),h(null)},disabled:g||!s}))),Object(c.jsx)(l.EuiSpacer,{size:"s"}),Object(c.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(c.jsx)(l.EuiFlexItem,{grow:!1,"data-test-subj":"add-to-library-checkbox"},Object(c.jsx)(l.EuiCheckbox,{id:"add-to-library-checkbox",label:o.i18n.translate("presentationUtil.saveModalDashboard.libraryOptionLabel",{defaultMessage:"Add to library"}),checked:d,disabled:null===u||g||!s,onChange:e=>i(e.target.checked)})),Object(c.jsx)(l.EuiFlexItem,{grow:!1},Object(c.jsx)(l.EuiIconTip,{type:"iInCircle",content:Object(c.jsx)(r.FormattedMessage,{id:"presentationUtil.saveModalDashboard.dashboardInfoTooltip",defaultMessage:"items added to the Visualize Library are available to all dashboards. Edits to a library item appear everywhere it is used."})}))))))}a.default=function(e){const{documentInfo:a,tagOptions:t,objectType:n,onClose:r,canSaveByReference:l}=e,{id:b}=a,h=!Boolean(b),{capabilities:p}=d.b.getHooks(),{canAccessDashboards:g,canCreateNewDashboards:j}=p.useService(),x=!g()||!j(),[v,O]=Object(s.useState)(b||x?null:"existing"),[f,S]=Object(s.useState)(l&&(!h||x)),[m,D]=Object(s.useState)(null),[y,w]=Object(s.useState)(h),M=x?null:()=>Object(c.jsx)(u,{onSelectDashboard:e=>{D(e)},onChange:e=>{O(e)},canSaveByReference:l,copyOnSave:y,documentId:b,dashboardOption:v,setAddToLibrary:S,isAddToLibrarySelected:f}),_=!y&&b?o.i18n.translate("presentationUtil.saveModalDashboard.saveLabel",{defaultMessage:"Save"}):o.i18n.translate("presentationUtil.saveModalDashboard.saveToLibraryLabel",{defaultMessage:"Save and add to library"}),C=o.i18n.translate("presentationUtil.saveModalDashboard.saveAndGoToDashboardLabel",{defaultMessage:"Save and go to Dashboard"}),T=null===v?_:C,L=!("existing"===v&&null===m);return Object(c.jsx)(i.SavedObjectSaveModal,{onSave:a=>{let t=null;!a.newCopyOnSave&&b||(t="existing"===v?(null==m?void 0:m.id)||null:v),e.onSave({...a,dashboardId:t,addToLibrary:f})},title:a.title,showCopyOnSave:!!b,options:f?t:void 0,description:a.description,showDescription:!0,confirmButtonLabel:T,initialCopyOnSave:h,isValid:L,objectType:n,onClose:r,onCopyOnSaveChange:e=>{l&&S(!0),O(null),w(e)},rightOptions:M})}}}]);